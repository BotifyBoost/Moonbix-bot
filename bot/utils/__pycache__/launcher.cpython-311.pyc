?
    ?g?  ?                   Û÷  ? d dl Z d dlZd dlZd dlZd dlZd dlZd dlmZ d dlm	Z	 d dl
mZ d dlmZ d dlmZ d dlmZ d dlmZ d dlZd	Z ej        d
?  ?        Zej        ?                    ?   ?         Zeek    r ej        d?  ?         n# ej        de? d??  ?          ej        ?   ?          de? d?Zd? Z de!e"         fd?Z#de!e         fd?Z$de!e	         fd?Z%dd?Z&de!e	         fd?Z'dS )?    N)?cycle)?Client)?Proxy)?settings)?logger)?run_tapper_no_thread)?register_sessionsz2.7.1zOhttps://raw.githubusercontent.com/vanhbakaa/moonbix-bot/refs/heads/main/versionz(<cyan>Your version is up to date!</cyan>z<yellow>New version detected z  please update the bot!</yellow>z

Version: a0   
By: https://github.com/BotifyBoost                                                                                                                                                                                         
Select an action:

    1. Run clicker
    2. Create session
    3. Run Cheat Tapper
c                  Û»  ? t           j        ?                    t          j        ?   ?         d?  ?        } d}t           j        ?                    | ?  ?        rÄt
          j        ?                    || ?  ?        }t
          j        ?                    |?  ?        }|j	        ?                    |?  ?         |t          j        |<   t          d| ? d|? d??  ?         |S t          d?  ?         d S )Nzbot/core/tapperCheatPoint.py?tapperzSuccessfully imported 'z' as module '?'z,Join my telegram channel to use this option!)?os?path?join?getcwd?exists?importlib?util?spec_from_file_location?module_from_spec?loader?exec_module?sys?modules?print)?file_path?module_name?spec?tapper_modules       ?D:\bot\moonbix\bot\utils\launcher.py?import_tapperr    +   s?   Ä ????ùRúYô[ú[?H?I?IÄI? ÄK? 
Ñwá~Ç~êi? ? ? 
?å~?5?5∞k??M?M??!??7?7??=?=???????.?.?.?0??êK? ??N??N?N??N?N?N?O?O?O????=?>?>?>?àt?    ?returnc                  Û`   ? t          t          j        d?  ?        ?  ?        } d? | D ?   ?         } | S )Nzsessions/*.sessionc                 Ûí   ? g | ]D}t           j        ?                    t           j        ?                    |?  ?        ?  ?        d          ?åES )r   )r   r   ?splitext?basename)?.0?files     r   ?<listcomp>z%get_session_names.<locals>.<listcomp>B   sJ   Ä ? ? ? ?<???????)?)??/?/?0?0??3?? ? r!   )?sorted?glob??session_namess    r   ?get_session_namesr.   @   s@   Ä ????9?:?:?;?;ÄM?? ÿ@M?? ? ÄM? ?r!   c                  Ûé   ? t           j        r6t          dd??  ?        5 } d? | D ?   ?         }d d d ?  ?         n# 1 swxY w Y   ng }|S )Nzbot/config/proxies.txtz	utf-8-sig)r(   ?encodingc                 Ûf   ? g | ].}t          j        |?                    ?   ?         ? ?  ?        j        ??S ))?proxy)r   ?from_str?strip?as_url)r'   ?rows     r   r)   zget_proxies.<locals>.<listcomp>L   s0   Ä ?P?P?P¿Cïuî~®CØI™I©K¨K?8?8?8???P?P?Pr!   )r   ?USE_PROXY_FROM_FILE?open)r(   ?proxiess     r   ?get_proxiesr:   I   s?   Ä ??#? ??/??F?F?F? 	Q??P?P??P?P?PàG?	Q? 	Q? 	Q? 	Q? 	Q? 	Q? 	Q? 	Q? 	Q? 	Q? 	Q¯¯¯ 	Q? 	Q? 	Q? 	Q¯ ??ÄNs   ?7?;?;c               ?   Û∏   K  ? t          ?   ?         } | st          d?  ?        ?t          j        rt          j        st          d?  ?        ?d? | D ?   ?         at          S )NzNot found session filesz/API_ID and API_HASH not found in the .env file.c                 Ûz   ? g | ]8}t          |t          j        t          j        d t	          d??  ?        ??  ?        ??S )z	sessions/zbot/plugins)?root)?name?api_id?api_hash?workdir?plugins)r   r   ?API_ID?API_HASH?dict)r'   ?session_names     r   r)   z"get_tg_clients.<locals>.<listcomp>^   sX   Ä ? 	? 	? 	? ? 	?????&??òm?,?,?,?	
? 	
? 	
?	? 	? 	r!   )r.   ?FileNotFoundErrorr   rC   rD   ?ValueError?tg_clientsr,   s    r   ?get_tg_clientsrJ   S   sw   ? ? Ä ? &?'?'ÄM?? ;??9?:?:?:??? L??3? L??J?K?K?K?	? 	? *?	? 	? 	ÄJ? ?r!   c            	   ?   Ûñ  K  ? t          j        ?   ?         } | ?                    ddt          d??  ?         t	          j        dt          t          ?   ?         ?  ?        ? dt          t          ?   ?         ?  ?        ? d??  ?         | ?                    ?   ?         j
        }|swt          t          ?  ?         	 t          d	?  ?        }|?                    ?   ?         st	          j        d
?  ?         n)|dvrt	          j        d?  ?         nt          |?  ?        }nåb|dk    rt!          ?   ?         ? d {V ?? d S |dk    r;t#          ?   ?         ? d {V ??}t          ?   ?         }t%          ||??  ?        ? d {V ?? d S |dk    rQt'          ?   ?         }|rCt#          ?   ?         ? d {V ??}t          ?   ?         }|?                    ||??  ?        ? d {V ?? d S d S d S )Nz-az--actionzAction to perform)?type?helpz	Detected z sessions | z proxiesTz> zAction must be number)?1?2?3?4zAction must be 1, 2, 3 or 4?   ?   )rI   r9   ?   )?argparse?ArgumentParser?add_argument?intr   ?info?lenr.   r:   ?parse_args?actionr   ?start_text?input?isdigit?warningr	   rJ   r   r    )?parserr\   rI   r9   r   s        r   ?processrb   l   s  ? ? Ä ??$?&?&ÄF?
???òj≠s?L??M?M?M?
ÑK?^ùC?1?3?3?4?4?^?^?≈k¡mƒm—BT‘BT?^?^?^?_?_?_???? ? ?'ÄF?? ?çj????		??ë[î[àF????#?#? ???6?7?7?7?7??3?3?3???<?=?=?=?=?òV?????		? ?Ç{Ä{??!?!?!?!?!?!?!?!?!?!?!?????)?+?+?+?+?+?+?+?+??????"®j??J?J?J?J?J?J?J?J?J?J?J?J?????????? 	V?-?/?/?/?/?/?/?/?/àJ?!ëmîmàG??-?-?»W?-?U?U?U?U?U?U?U?U?U?U?U? 
??	V? 	Vr!   rI   c              ?   Ûí   ?K  ? t          ?   ?         }|rt          |?  ?        nd ??fd?| D ?   ?         }t          j        |? ? d {V ?? d S )Nc           
      Ûx   ?? g | ]6}t          j        t          |?rt          ??  ?        nd ??  ?        ?  ?        ??S )N)?tg_clientr2   )?asyncio?create_task?run_tapper?next)r'   re   ?proxies_cycles     Är   r)   zrun_tasks.<locals>.<listcomp>?   sb   ¯Ä ? ? ? ? ? 	???#?:?Dïd??)?)?)??? ? ?	
? 	
?? ? r!   )r:   r   rf   ?gather)rI   r9   ?tasksrj   s      @r   ?run_tasksrm   ?   su   ¯Ë ? Ä ?âmåmÄG?-?7ïE?ëNîNêN?ÄM?? ? ? ? $?? ? ÄE? ??? ? ? ? ? ? ? ? ? ? r!   )r"   N)(r   r+   rf   rU   r   ?requests?itertoolsr   ?pyrogramr   ?better_proxyr   ?bot.configr   ?bot.utilsr   ?bot.core.tapperr   ?bot.core.registratorr	   ?importlib.utilr   ?curr_version?get?version?textr4   ?version_rY   r`   ?exitr]   r    ?list?strr.   r:   rJ   rb   rm   ? r!   r   ?<module>rÄ      s  ?? 	Ä	Ä	Ä	? ÄÄÄ? ÄÄÄ? ÄÄÄ? 
Ä
Ä
Ä
? ÄÄÄ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0? 0? 0? 0? 0? 0? 2? 2? 2? 2? 2? 2? ? ? ? ?Ä????h?i?iÄ??????Ä?????ÄFÑK?:?;?;?;?;?ÄFÑN?]??]?]?]?^?^?^?ÄCÑHÅJÑJÄJ?	??	? 	? 	Ä
?? ? ????? ? ? ? ?êT?î[? ? ? ? ?òd?úl? ? ? ? ?#V? #V? #V? #VP!?†V?? !? !? !? !? !? !r!   